---
// Vanilla Gallery
import { type CollectionEntry, getEntry } from "astro:content";
import { Image } from "astro:assets";

interface Props {
  galleryid: string;
  gallery?: CollectionEntry<"galleries">; // gallery is now optional
}

const { galleryid } = Astro.props;

const gallery = await getEntry("galleries", galleryid);
const images = gallery ? gallery.data.images : [];
---
{
  images.map((i) => (
    <Image src={i.src} alt={i.alt} widths={[400, 800, 1200, 1600]} />
  ))
}

<style>
  img {
    widows: 100%;
    height: auto;
  }
</style>
